# 项目上下文

## 目的
本项目是一个命令行接口（CLI）工具，用于与Aoksend邮件API进行交互。主要目的是为用户提供一个便捷的调试和测试工具，以方便使用Aoksend的邮件发送服务，特别是对于那些原本使用SMTP接口但现在需要迁移到Aoksend API的用户。

## 技术栈
- Python 3.x
- requests库（HTTP请求处理）
- argparse库（命令行参数解析）
- 标准库（json, os, sys等）

## 项目约定

### 代码风格
- 遵循PEP 8 Python代码规范
- 使用4个空格缩进（不使用制表符）
- 行长度限制为79个字符
- 变量和函数名使用小写字母和下划线（snake_case）
- 类名使用首字母大写的驼峰命名法（PascalCase）
- 常量使用全大写字母和下划线（UPPER_CASE）
- 导入语句放在文件顶部，按标准库、第三方库、本地库的顺序分组
- 每个函数和类都应有文档字符串（docstring）
- 注释应使用中文，但技术术语可保留英文

### 架构模式
- 单文件命令行应用结构
- 参数验证与业务逻辑分离
- 统一的错误处理和返回码映射
- 函数式编程风格，避免全局状态
- 使用类型提示（如果适用）

### 测试策略
- 通过实际API调用进行功能测试
- 参数验证通过命令行测试
- 错误情况通过模拟错误响应验证
- 每个主要功能应有对应的测试用例
- 测试应覆盖正常流程和异常流程

### Git 工作流程
- 使用功能分支开发模式
- 主分支（main/master）保持稳定
- 提交信息使用中文，清晰描述变更内容
- 每次提交应只包含一个逻辑变更
- 提交前运行基本测试确保功能正常

## 领域上下文
- Aoksend邮件服务API接口规范
- 邮件发送相关的参数和验证规则
- 文件附件大小和类型限制（1MB，特定文件类型）
- 邮件模板系统和数据替换机制

## 重要约束
- 附件文件大小不得超过1MB
- 仅支持特定的文件类型（zip, rar, pdf, jpg, png, gif, mp4, txt, doc, xls, ppt, docx, xlsx, pptx, jpeg, csv）
- 必须使用Aoksend提供的API密钥进行认证
- 必须使用预设的邮件模板ID发送邮件
- 收件人邮箱地址必须符合标准格式
- JSON数据必须是有效的JSON格式

## 外部依赖
- Aoksend邮件服务API（https://www.aoksend.com/index/api/send_email）
- Python requests库用于HTTP请求处理
- Python标准库（argparse, json, os, sys等）